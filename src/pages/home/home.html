<ion-header no-border>
  <ion-navbar align-title="center" transparent >
    <ion-title>
      <img src="assets/imgs/netflix-logo.png">
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content class="no-scroll"   #pageContent>
    <!-- <ion-refresher (ionRefresh)="doRefresh($event)">
        <ion-refresher-content 
         pullingIcon="refresh-circle"
         refreshingSpinner="bubbles">
          </ion-refresher-content>
        </ion-refresher> -->

        <ion-row > 
          <ion-col >
            <div [innerHtml]="iframe_html"  ></div>
          </ion-col>
        </ion-row>  
 <ion-row>
      <ion-col >
          <ion-segment [(ngModel)]="segementHome" color="netflixRed">
              <ion-segment-button value="list">
                <ion-icon name="list"></ion-icon>
              </ion-segment-button>
              <ion-segment-button value="chat" [disabled]='!chatEnable'>
                <ion-icon name="chatbubbles"></ion-icon>
              </ion-segment-button>
            </ion-segment>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col >
        <div class="scrollDiv">
            <ion-grid>
                <ion-row *ngFor="let message of messages" >
              
                  <ion-col col-9 *ngIf="message.from !== nickname" class="message" [ngClass]="{'my_message':message.from === nickname, 'other_message':message.from !== nickname}">
                    <span class='user_name'>{{message.from}}</span><br>
                    <span>{{message.text}}</span>
                    <div class='time'>{{message.created | date:'dd.MM hh:MM' }}</div>
                  </ion-col>
              
                  <ion-col offset-3 col-9 *ngIf="message.from === nickname" class="message" [ngClass]="{'my_message':message.from === nickname, 'other_message':message.from !== nickname}">
                    <span class='user_name'>{{message.from}}</span><br>
                    <span>{{message.text}}</span>
                    <div class='time'>{{message.created | date:'dd.MM hh:MM' }}</div>
                  </ion-col>
                </ion-row>
              </ion-grid> 
        </div>
       
      </ion-col>
    </ion-row>
    
   
    <ion-footer>      
     <ion-toolbar>   
        <ion-item>    
            <ion-input [(ngModel)]="message" type="text" placeholder="mensaje"></ion-input>
       </ion-item>       
   
       <ion-buttons end>
         <button ion-button icon-right color="netflixRed" (click)="sendMessage()" >          
           <ion-icon name="send"></ion-icon>
         </button>
 
       </ion-buttons>
              
     </ion-toolbar>
   
    </ion-footer>
       
       
    
  


   
 
        
       <!-- <ion-grid>
            <ion-row *ngFor="let message of messages" >
          
              <ion-col col-9 *ngIf="message.from !== nickname" class="message" [ngClass]="{'my_message':message.from === nickname, 'other_message':message.from !== nickname}">
                <span class='user_name'>{{message.from}}</span><br>
                <span>{{message.text}}</span>
                <div class='time'>{{message.created | date:'dd.MM hh:MM' }}</div>
              </ion-col>
          
              <ion-col offset-3 col-9 *ngIf="message.from === nickname" class="message" [ngClass]="{'my_message':message.from === nickname, 'other_message':message.from !== nickname}">
                <span class='user_name'>{{message.from}}</span><br>
                <span>{{message.text}}</span>
                <div class='time'>{{message.created | date:'dd.MM hh:MM' }}</div>
              </ion-col>
            </ion-row>
          </ion-grid>           -->
      



     
  

    <ion-list   *ngIf="!chatEnable && segementHome == 'list'" >
      <div *ngFor="let homeScreenGroup of homeScreenGroups">
        <div class="item-title">{{homeScreenGroup.name}}</div>

        <ion-scroll scrollX="true" scroll-avatar>
          <ion-list>
            <ion-col *ngFor="let groupItem of homeScreenGroup.groupItems" class="scroll-item">
              <img src="{{ groupItem.picture }}" (click)="goToGroupItemDetails(groupItem)" />
            </ion-col>
          </ion-list>
        </ion-scroll>
      </div>
    </ion-list>

    <br>
    <br>
  

</ion-content>